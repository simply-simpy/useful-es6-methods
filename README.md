1. remove cruft
2. add router, and push states
